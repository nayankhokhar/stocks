"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7304],{7304:(B,N,A)=>{A.r(N),A.d(N,{AllStocksPageModule:()=>Y});var R=A(2881),I=A(9417),w=A(3092),O=A(9870),k=A(6354),M=A(7468),t=A(1360),L=A(2557);const x=(c,f)=>({"bg-danger":c,"bg-success":f}),q=(c,f)=>({"bg-success":c,"bg-danger":f});function G(c,f){if(1&c&&(t.qex(0),t.j41(1,"tr")(2,"td",9),t.EFF(3),t.k0s(),t.j41(4,"td",10),t.EFF(5),t.k0s(),t.j41(6,"td",1),t.EFF(7),t.k0s(),t.j41(8,"td",11),t.EFF(9),t.k0s(),t.j41(10,"td",12),t.EFF(11),t.k0s(),t.j41(12,"td",1),t.EFF(13),t.k0s(),t.j41(14,"td",13),t.EFF(15),t.k0s(),t.j41(16,"td"),t.EFF(17),t.k0s(),t.j41(18,"td",13),t.EFF(19),t.k0s()(),t.bVm()),2&c){const l=f.$implicit,u=f.index,d=t.XpG();t.R7$(3),t.Lme("",u+1," - ",l.YM,""),t.R7$(2),t.JRh(l.COMPANY_NAME),t.R7$(2),t.JRh(d.formatIndianCurrency(l.CURRENT_PRICE)||"-"),t.R7$(2),t.Lme("",d.formatIndianCurrency(l["52H"])||"-"," / ",l["52H_PERCENTAGE"]?d.formatIndianCurrency(l["52H_PERCENTAGE"])+"%":"-",""),t.R7$(2),t.Lme("",d.formatIndianCurrency(l["52L"])||"-"," / ",l["52L_PERCENTAGE"]?d.formatIndianCurrency(l["52L_PERCENTAGE"])+"%":"-",""),t.R7$(2),t.JRh(d.formatIndianCurrency(l.MARKET_CAP)||"-"),t.R7$(),t.Y8G("ngClass",t.l_i(15,x,l.PE_RATIO>25||l.PE_RATIO>l.SECTOR_PE,l.PE_RATIO<=25&&l.PE_RATIO<=l.SECTOR_PE)),t.R7$(),t.Lme(" ",l.PE_RATIO||"-"," / ",l.SECTOR_PE||"-"," "),t.R7$(2),t.JRh(d.formatIndianCurrency(l.BOOK_VALUE)||"-"),t.R7$(),t.Y8G("ngClass",t.l_i(18,q,l.PB_RATIO<3,l.PB_RATIO>=3)),t.R7$(),t.SpI(" ",l.PB_RATIO||"-"," ")}}const j=[{path:"",component:(()=>{var c;class f{constructor(u){this.http=u,this.frequency="Yearly",this.stocks=[],this.stocksApi=[]}ngOnInit(){this.fetchStockData()}fetchStockData(){const u=this.stocksApi.map(d=>this.http.get(`https://priceapi.moneycontrol.com/pricefeed/${d.type}/equitycash/${d.fundamental}`).pipe((0,k.T)(e=>{var C,E;if(null==e||!e.data)return null;const o=e.data.pricecurrent&&"NT*"!=e.data.pricecurrent?Number(e.data.pricecurrent).toFixed(2):"",p=e.data["52H"]&&"-"!=e.data["52H"]?e.data["52H"]:"",s=e.data["52L"]&&"-"!=e.data["52L"]?e.data["52L"]:"",r=p?((Number(o)-p)/p*100).toFixed(2):"",n=s?((Number(o)-s)/s*100).toFixed(2):"";return{YM:d.revenue_type,NSE:e.data.NSEID,COMPANY_NAME:e.data.SC_FULLNM,MAIN_SECTOR:null==e||null===(C=e.data)||void 0===C?void 0:C.main_sector,SUB_SECTOR:null==e||null===(E=e.data)||void 0===E?void 0:E.newSubsector,CURRENT_PRICE:o,"52H":p,"52L":s,"52H_PERCENTAGE":r,"52L_PERCENTAGE":n,BOOK_VALUE:e.data.BVCONS?Number(e.data.BVCONS).toFixed(2):"",MARKET_CAP:e.data.MKTCAP&&"-"!=e.data.MKTCAP?Number(e.data.MKTCAP).toFixed(2):"",PE_RATIO:e.data.PE&&"-"!=e.data.PE?Number(e.data.PE).toFixed(2):"",SECTOR_PE:e.data.IND_PE?Number(e.data.IND_PE):"",PB_RATIO:e.data.PB&&"-"!=e.data.PB?Number(e.data.PB).toFixed(2):""}})));(0,M.p)(u).subscribe(d=>{this.stocks=d.filter(S=>null!==S),this.stocks.sort((S,e)=>(Number(S.MARKET_CAP)||0)-(Number(e.MARKET_CAP)||0)),this.stocks=[...this.stocks]})}getYearlyRevenue(u){return this.http.get(u,{responseType:"text"}).pipe((0,k.T)(d=>{const e=(new DOMParser).parseFromString(d,"text/html"),C=e.querySelector("#C-12-income-graphData")||e.querySelector("#S-12-income-graphData"),E=e.querySelector("#C-12-income-graphDate")||e.querySelector("#S-12-income-graphDate");if(C&&E)try{const o=JSON.parse(C.textContent||"{}"),p=JSON.parse(E.textContent||"[]");return p.map((s,r)=>{const n=parseFloat(o["total-income"][r]),a=parseFloat(o["net-profit"][r]),i=o.interest?parseFloat(o.interest[r]):null,h=o["interest-earned"]?parseFloat(o["interest-earned"][r]):null;let v=null,F=null;if(r<p.length-1){const m=parseFloat(o["total-income"][r+1]),g=parseFloat(o["net-profit"][r+1]);v=(n-m)/m*100,F=(a-g)/g*100}return{date:s,totalIncome:n.toFixed(2),netProfit:a.toFixed(2),interest:null!==i?i.toFixed(2):null,interestEarned:null!==h?h.toFixed(2):null,revenueGrowth:null!==v?v.toFixed(2):null,profitGrowth:null!==F?F.toFixed(2):null}})}catch(o){return console.error("Error parsing JSON data:",o),[]}else{const o=e.querySelector("table.mctable1");if(o)try{const p=Array.from(o.querySelectorAll("thead th")).slice(1,-1).map(n=>{var a;return null===(a=n.textContent)||void 0===a?void 0:a.trim()}),s=o.querySelectorAll("tbody tr"),r={};return s.forEach(n=>{var a;const i=n.querySelectorAll("td"),h=(null===(a=i[0].textContent)||void 0===a?void 0:a.trim().toLowerCase().replace(/\s+/g,"-").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,""))||"",v=Array.from(i).slice(1,-1).map(F=>{var m;const g=(null===(m=F.textContent)||void 0===m?void 0:m.trim().replace(/,/g,""))||"0";return"-"===g?"0":g});r[h]=v}),p.map((n,a)=>{var i,h;const v=parseFloat((null===(i=r["total-income"])||void 0===i?void 0:i[a])||"0"),F=parseFloat((null===(h=r["net-profit"])||void 0===h?void 0:h[a])||"0"),m=r.interest?parseFloat(r.interest[a]||"0"):null,g=r["interest-earned"]?parseFloat(r["interest-earned"][a]||"0"):null;let y=null,P=null;if(a<p.length-1){var b,_;const T=parseFloat((null===(b=r["total-income"])||void 0===b?void 0:b[a+1])||"0"),$=parseFloat((null===(_=r["net-profit"])||void 0===_?void 0:_[a+1])||"0");y=(v-T)/T*100,P=(F-$)/$*100}return{date:n||"",totalIncome:v.toFixed(2),netProfit:F.toFixed(2),interest:null!==m?m.toFixed(2):null,interestEarned:null!==g?g.toFixed(2):null,revenueGrowth:null!==y?y.toFixed(2):null,profitGrowth:null!==P?P.toFixed(2):null}})}catch(p){return console.error("Error parsing table data:",p),[]}}return[]}))}getYearlyBalanceSheetData(u){return this.http.get(u,{responseType:"text"}).pipe((0,k.T)(d=>{const e=(new DOMParser).parseFromString(d,"text/html"),C=e.querySelector("#C-12-balance-sheet-graphData")||e.querySelector("#S-12-balance-sheet-graphData"),E=e.querySelector("#C-12-balance-sheet-graphDate")||e.querySelector("#S-12-balance-sheet-graphDate");if(C&&E)try{const o=JSON.parse(C.textContent||"{}");return JSON.parse(E.textContent||"[]").map((s,r)=>({date:s,shareCapital:parseFloat(o["share-capital"][r])||0,reservesAndSurplus:parseFloat(o["reserves-and-surplus"][r])||0,currentLiabilities:parseFloat(o["current-liabilities"][r])||0,otherLiabilities:parseFloat(o["other-liabilities"][r])||0,totalLiabilities:parseFloat(o["total-liabilities"][r])||0,fixedAssets:parseFloat(o["fixed-assets"][r])||0,currentAssets:parseFloat(o["current-assets"][r])||0,otherAssets:parseFloat(o["other-assets"][r])||0,totalAssets:parseFloat(o["total-assets"][r])||0,contingentLiabilities:parseFloat(o["contingent-liabilities"][r])||0}))}catch(o){return console.error("Error parsing balance sheet JSON data:",o),[]}else{const o=e.querySelectorAll("table.mctable1");if(o.length>0)try{const p=Array.from(o[0].querySelectorAll("thead th")).slice(1,-1).map(r=>{var n;return null===(n=r.textContent)||void 0===n?void 0:n.trim()}),s={};return o.forEach(r=>{r.querySelectorAll("tbody tr").forEach(a=>{var i;const h=a.querySelectorAll("td"),v=(null===(i=h[0].textContent)||void 0===i?void 0:i.trim().toLowerCase().replace(/\s+/g,"-").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,""))||"",F=Array.from(h).slice(1,-1).map(m=>{var g;const y=(null===(g=m.textContent)||void 0===g?void 0:g.trim().replace(/,/g,""))||"0";return"-"===y?"0":y});s[v]=F})}),p.map((r,n)=>{var a,i,h,v,F,m,g,y,P,b;return{date:r||"",shareCapital:parseFloat((null===(a=s["share-capital"])||void 0===a?void 0:a[n])||"0"),reservesAndSurplus:parseFloat((null===(i=s["reserves-and-surplus"])||void 0===i?void 0:i[n])||"0"),currentLiabilities:parseFloat((null===(h=s["current-liabilities"])||void 0===h?void 0:h[n])||"0"),otherLiabilities:parseFloat((null===(v=s["other-liabilities"])||void 0===v?void 0:v[n])||"0"),totalLiabilities:parseFloat((null===(F=s["total-liabilities"])||void 0===F?void 0:F[n])||"0"),fixedAssets:parseFloat((null===(m=s["fixed-assets"])||void 0===m?void 0:m[n])||"0"),currentAssets:parseFloat((null===(g=s["current-assets"])||void 0===g?void 0:g[n])||"0"),otherAssets:parseFloat((null===(y=s["other-assets"])||void 0===y?void 0:y[n])||"0"),totalAssets:parseFloat((null===(P=s["total-assets"])||void 0===P?void 0:P[n])||"0"),contingentLiabilities:parseFloat((null===(b=s["contingent-liabilities"])||void 0===b?void 0:b[n])||"0")}})}catch(p){return console.error("Error parsing balance sheet table data:",p),[]}}return[]}))}getCashFlowData(u){return this.http.get(u,{responseType:"text"}).pipe((0,k.T)(d=>{const e=(new DOMParser).parseFromString(d,"text/html"),C=e.querySelector("#C-12-cash-flow-graphData")||e.querySelector("#S-12-cash-flow-graphData"),E=e.querySelector("#C-12-cash-flow-graphDate")||e.querySelector("#S-12-cash-flow-graphDate");if(C&&E)try{const o=JSON.parse(C.textContent||"{}");return JSON.parse(E.textContent||"[]").map((s,r)=>({date:s,operatingActivities:parseFloat(o["operating-activities"][r])||0,investingActivities:parseFloat(o["investing-activities"][r])||0,financingActivities:parseFloat(o["financing-activities"][r])||0,otherCashFlow:parseFloat(o.others[r])||0,netCashFlow:parseFloat(o["net-cash-flow"][r])||0}))}catch(o){return console.error("Error parsing cash flow JSON data:",o),[]}else{const o=e.querySelector("table.mctable1");if(o)try{const p=Array.from(o.querySelectorAll("thead th")).slice(1,-1).map(n=>{var a;return null===(a=n.textContent)||void 0===a?void 0:a.trim()}),s=o.querySelectorAll("tbody tr"),r={};return s.forEach(n=>{var a;const i=n.querySelectorAll("td"),h=(null===(a=i[0].textContent)||void 0===a?void 0:a.trim().toLowerCase().replace(/\s+/g,"-").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,""))||"",v=Array.from(i).slice(1,-1).map(F=>{var m;const g=(null===(m=F.textContent)||void 0===m?void 0:m.trim().replace(/,/g,""))||"0";return"-"===g?"0":g});r[h]=v}),p.map((n,a)=>{var i,h,v,F,m;return{date:n||"",operatingActivities:parseFloat((null===(i=r["operating-activities"])||void 0===i?void 0:i[a])||"0"),investingActivities:parseFloat((null===(h=r["investing-activities"])||void 0===h?void 0:h[a])||"0"),financingActivities:parseFloat((null===(v=r["financing-activities"])||void 0===v?void 0:v[a])||"0"),otherCashFlow:parseFloat((null===(F=r.others)||void 0===F?void 0:F[a])||"0"),netCashFlow:parseFloat((null===(m=r["net-cash-flow"])||void 0===m?void 0:m[a])||"0")}})}catch(p){return console.error("Error parsing cash flow table data:",p),[]}}return[]}))}getQuarterlyRevenue(u){return this.http.get(u,{responseType:"text"}).pipe((0,k.T)(d=>{const e=(new DOMParser).parseFromString(d,"text/html"),C=e.querySelector("#C-3-income-graphData"),E=e.querySelector("#C-3-income-graphDate");if(C&&E){const o=JSON.parse(C.textContent||"{}"),p=JSON.parse(E.textContent||"[]");return p.map((s,r)=>{const n=parseFloat(o["total-income"][r]),a=parseFloat(o["net-profit"][r]);let i=null,h=null;if(r<p.length-1){const v=parseFloat(o["total-income"][r+1]),F=parseFloat(o["net-profit"][r+1]);i=(n-v)/v*100,h=(a-F)/F*100}return{date:s,totalIncome:n.toFixed(2),netProfit:a.toFixed(2),revenueGrowth:null!==i?i.toFixed(2):null,profitGrowth:null!==h?h.toFixed(2):null}})}return[]}))}formatIndianCurrency(u){return u?new Intl.NumberFormat("en-IN").format(u):"0"}changeQY(){this.frequency="Yearly"===this.frequency?"Quarterly":"Yearly"}}return(c=f).\u0275fac=function(u){return new(u||c)(t.rXU(L.Qq))},c.\u0275cmp=t.VBU({type:c,selectors:[["app-all-stocks"]],standalone:!1,decls:28,vars:3,consts:[["color","dark",3,"fullscreen"],[1,"text-end"],[1,"btn","btn-primary","m-2",3,"click"],[1,"table-responsive",2,"overflow-x","auto"],[1,"table","table-bordered","table-dark"],[1,"text-start"],["scope","col"],["scope","col",1,"bg-info","sticky-col"],[4,"ngFor","ngForOf"],[1,"test-start"],[1,"test-start","sticky-col"],[1,"bg-danger"],[1,"bg-success"],[3,"ngClass"]],template:function(u,d){1&u&&(t.j41(0,"ion-content",0)(1,"div",1)(2,"button",2),t.bIt("click",function(){return d.changeQY()}),t.EFF(3),t.k0s()(),t.j41(4,"div",3)(5,"table",4)(6,"thead")(7,"tr",5)(8,"th",6),t.EFF(9,"#"),t.k0s(),t.j41(10,"th",7),t.EFF(11,"Company"),t.k0s(),t.j41(12,"th",6),t.EFF(13,"Current Price"),t.k0s(),t.j41(14,"th",6),t.EFF(15,"52H"),t.k0s(),t.j41(16,"th",6),t.EFF(17,"52L"),t.k0s(),t.j41(18,"th",6),t.EFF(19,"Market Cap"),t.k0s(),t.j41(20,"th",6),t.EFF(21,"PE"),t.k0s(),t.j41(22,"th",6),t.EFF(23,"Book Value"),t.k0s(),t.j41(24,"th",6),t.EFF(25,"PB"),t.k0s()()(),t.j41(26,"tbody"),t.DNE(27,G,20,21,"ng-container",8),t.k0s()()()()),2&u&&(t.Y8G("fullscreen",!0),t.R7$(3),t.JRh(d.frequency),t.R7$(24),t.Y8G("ngForOf",d.stocks))},dependencies:[R.YU,R.Sq,w.W9],styles:[".table-container[_ngcontent-%COMP%]{width:100%;overflow-x:auto}table[_ngcontent-%COMP%]{width:max-content;min-width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{white-space:nowrap;padding:10px}.sticky-col[_ngcontent-%COMP%]{position:sticky;left:0;z-index:2}"]}),f})()}];let J=(()=>{var c;class f{}return(c=f).\u0275fac=function(u){return new(u||c)},c.\u0275mod=t.$C({type:c}),c.\u0275inj=t.G2t({imports:[O.iI.forChild(j),O.iI]}),f})(),Y=(()=>{var c;class f{}return(c=f).\u0275fac=function(u){return new(u||c)},c.\u0275mod=t.$C({type:c}),c.\u0275inj=t.G2t({imports:[R.MD,I.YN,w.bv,J]}),f})()}}]);