(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4051],{262:function(me,fe){var G,le;G=function ee(){var ne,T=typeof self<"u"?self:typeof window<"u"?window:void 0!==T?T:{},C=!T.document&&!!T.postMessage,n=T.IS_PAPA_WORKER||!1,re={},ge=0,l={};function q(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var i=A(t);i.chunkSize=parseInt(i.chunkSize),t.step||t.chunk||(i.chunkSize=null),this._handle=new pe(i),(this._handle.streamer=this)._config=i}.call(this,e),this.parseChunk=function(t,i){var s=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<s){let u=this._config.newline;u||(u=this._handle.guessLineEndings(t,r=this._config.quoteChar||'"')),t=[...t.split(u).slice(s)].join(u)}this.isFirstChunk&&o(this._config.beforeFirstChunk)&&void 0!==(r=this._config.beforeFirstChunk(t))&&(t=r),this.isFirstChunk=!1,this._halted=!1,s=this._partialLine+t;var r=(this._partialLine="",this._handle.parse(s,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(t=r.meta.cursor,this._finished||(this._partialLine=s.substring(t-this._baseIndex),this._baseIndex=t),r&&r.data&&(this._rowCount+=r.data.length),s=this._finished||this._config.preview&&this._rowCount>=this._config.preview,n)T.postMessage({results:r,workerId:l.WORKER_ID,finished:s});else if(o(this._config.chunk)&&!i){if(this._config.chunk(r,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=r=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(r.data),this._completeResults.errors=this._completeResults.errors.concat(r.errors),this._completeResults.meta=r.meta),this._completed||!s||!o(this._config.complete)||r&&r.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),s||r&&r.meta.paused||this._nextChunk(),r}this._halted=!0},this._sendError=function(t){o(this._config.error)?this._config.error(t):n&&this._config.error&&T.postMessage({workerId:l.WORKER_ID,error:t,finished:!1})}}function se(e){var t;(e=e||{}).chunkSize||(e.chunkSize=l.RemoteChunkSize),q.call(this,e),this._nextChunk=C?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(i){this._input=i,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),C||(t.onload=z(this._chunkLoaded,this),t.onerror=z(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!C),this._config.downloadRequestHeaders){var i,s=this._config.downloadRequestHeaders;for(i in s)t.setRequestHeader(i,s[i])}this._config.chunkSize&&t.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{t.send(this._config.downloadRequestBody)}catch(u){this._chunkError(u.message)}C&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){var i;4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null!==(i=(i=t).getResponseHeader("Content-Range"))?parseInt(i.substring(i.lastIndexOf("/")+1)):-1),this.parseChunk(t.responseText)))},this._chunkError=function(i){i=t.statusText||i,this._sendError(new Error(i))}}function he(e){(e=e||{}).chunkSize||(e.chunkSize=l.LocalChunkSize),q.call(this,e);var t,i,s=typeof FileReader<"u";this.stream=function(r){this._input=r,i=r.slice||r.webkitSlice||r.mozSlice,s?((t=new FileReader).onload=z(this._chunkLoaded,this),t.onerror=z(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var r=this._input,u=(this._config.chunkSize&&(u=Math.min(this._start+this._config.chunkSize,this._input.size),r=i.call(r,this._start,u)),t.readAsText(r,this._config.encoding));s||this._chunkLoaded({target:{result:u}})},this._chunkLoaded=function(r){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(r.target.result)},this._chunkError=function(){this._sendError(t.error)}}function ie(e){var t;q.call(this,e=e||{}),this.stream=function(i){return t=i,this._nextChunk()},this._nextChunk=function(){var i,s;if(!this._finished)return t=(i=this._config.chunkSize)?(s=t.substring(0,i),t.substring(i)):(s=t,""),this._finished=!t,this.parseChunk(s)}}function ae(e){q.call(this,e=e||{});var t=[],i=!0,s=!1;this.pause=function(){q.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){q.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(r){this._input=r,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){s&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):i=!0},this._streamData=z(function(r){try{t.push("string"==typeof r?r:r.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(u){this._streamError(u)}},this),this._streamError=z(function(r){this._streamCleanUp(),this._sendError(r)},this),this._streamEnd=z(function(){this._streamCleanUp(),s=!0,this._streamData("")},this),this._streamCleanUp=z(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function pe(e){var t,i,s,r,u=Math.pow(2,53),w=-u,P=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,W=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,c=this,I=0,d=0,$=!1,f=!1,m=[],a={data:[],errors:[],meta:{}};function j(E){return"greedy"===e.skipEmptyLines?""===E.join("").trim():1===E.length&&0===E[0].length}function x(){if(a&&s&&(Q("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),s=!1),e.skipEmptyLines&&(a.data=a.data.filter(function(b){return!j(b)})),B()){let b=function(N,v){o(e.transformHeader)&&(N=e.transformHeader(N,v)),m.push(N)};if(a)if(Array.isArray(a.data[0])){for(var E=0;B()&&E<a.data.length;E++)a.data[E].forEach(b);a.data.splice(0,1)}else a.data.forEach(b)}function y(b,N){for(var v=e.header?{}:[],k=0;k<b.length;k++){var _=k,H=b[k];S=_=e.header?k>=m.length?"__parsed_extra":m[k]:_,O=H=e.transform?e.transform(H,_):H,void 0,M=S,e.dynamicTypingFunction&&void 0===e.dynamicTyping[M]&&(e.dynamicTyping[M]=e.dynamicTypingFunction(M)),H=!0===(e.dynamicTyping[M]||e.dynamicTyping)?"true"===O||"TRUE"===O||"false"!==O&&"FALSE"!==O&&((M=>{if(P.test(M)&&(M=parseFloat(M),w<M&&M<u))return 1})(O)?parseFloat(O):W.test(O)?new Date(O):""===O?null:O):O,"__parsed_extra"===_?(v[_]=v[_]||[],v[_].push(H)):v[_]=H}var S,O,M;return e.header&&(k>m.length?Q("FieldMismatch","TooManyFields","Too many fields: expected "+m.length+" fields but parsed "+k,d+N):k<m.length&&Q("FieldMismatch","TooFewFields","Too few fields: expected "+m.length+" fields but parsed "+k,d+N)),v}var D;a&&(e.header||e.dynamicTyping||e.transform)&&(D=1,!a.data.length||Array.isArray(a.data[0])?(a.data=a.data.map(y),D=a.data.length):a.data=y(a.data,0),e.header&&a.meta&&(a.meta.fields=m),d+=D)}function B(){return e.header&&0===m.length}function Q(E,y,D,g){E={type:E,code:y,message:D},void 0!==g&&(E.row=g),a.errors.push(E)}o(e.step)&&(r=e.step,e.step=function(E){a=E,B()?x():(x(),0!==a.data.length&&(I+=E.data.length,e.preview&&I>e.preview?i.abort():(a.data=a.data[0],r(a,c))))}),this.parse=function(E,y,D){var g=e.quoteChar||'"';return e.newline||(e.newline=this.guessLineEndings(E,g)),s=!1,e.delimiter?o(e.delimiter)&&(e.delimiter=e.delimiter(E),a.meta.delimiter=e.delimiter):((g=((b,N,v,k,_)=>{var H,S,O,M;_=_||[",","\t","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var oe=0;oe<_.length;oe++){for(var K,ue=_[oe],Y=0,V=0,U=0,J=(O=void 0,new L({comments:k,delimiter:ue,newline:N,preview:10}).parse(b)),Z=0;Z<J.data.length;Z++)v&&j(J.data[Z])?U++:(V+=K=J.data[Z].length,void 0===O?O=K:0<K&&(Y+=Math.abs(K-O),O=K));0<J.data.length&&(V/=J.data.length-U),(void 0===S||Y<=S)&&(void 0===M||M<V)&&1.99<V&&(S=Y,H=ue,M=V)}return{successful:!!(e.delimiter=H),bestDelimiter:H}})(E,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=g.bestDelimiter:(s=!0,e.delimiter=l.DefaultDelimiter),a.meta.delimiter=e.delimiter),g=A(e),e.preview&&e.header&&g.preview++,t=E,i=new L(g),a=i.parse(t,y,D),x(),$?{meta:{paused:!0}}:a||{meta:{paused:!1}}},this.paused=function(){return $},this.pause=function(){$=!0,i.abort(),t=o(e.chunk)?"":t.substring(i.getCharIndex())},this.resume=function(){c.streamer._halted?($=!1,c.streamer.parseChunk(t,!0)):setTimeout(c.resume,3)},this.aborted=function(){return f},this.abort=function(){f=!0,i.abort(),a.meta.aborted=!0,o(e.complete)&&e.complete(a),t=""},this.guessLineEndings=function(b,g){b=b.substring(0,1048576),g=new RegExp(p(g)+"([^]*?)"+p(g),"gm");var D=(b=b.replace(g,"")).split("\r");if(b=1<(g=b.split("\n")).length&&g[0].length<D[0].length,1===D.length||b)return"\n";for(var N=0,v=0;v<D.length;v++)"\n"===D[v][0]&&N++;return N>=D.length/2?"\r\n":"\r"}}function p(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function L(e){var t=(e=e||{}).delimiter,i=e.newline,s=e.comments,r=e.step,u=e.preview,w=e.fastMode,P=null,W=!1,c=null==e.quoteChar?'"':e.quoteChar,I=c;if(void 0!==e.escapeChar&&(I=e.escapeChar),("string"!=typeof t||-1<l.BAD_DELIMITERS.indexOf(t))&&(t=","),s===t)throw new Error("Comment character same as delimiter");!0===s?s="#":("string"!=typeof s||-1<l.BAD_DELIMITERS.indexOf(s))&&(s=!1),"\n"!==i&&"\r"!==i&&"\r\n"!==i&&(i="\n");var d=0,$=!1;this.parse=function(f,m,a){if("string"!=typeof f)throw new Error("Input must be a string");var j=f.length,x=t.length,B=i.length,Q=s.length,E=o(r),y=[],D=[],g=[],b=d=0;if(!f)return Y();if(w||!1!==w&&-1===f.indexOf(c)){for(var N=f.split(i),v=0;v<N.length;v++){if(d+=(g=N[v]).length,v!==N.length-1)d+=i.length;else if(a)return Y();if(!s||g.substring(0,Q)!==s){if(E){if(y=[],M(g.split(t)),V(),$)return Y()}else M(g.split(t));if(u&&u<=v)return y=y.slice(0,u),Y(!0)}}return Y()}for(var k=f.indexOf(t,d),_=f.indexOf(i,d),H=new RegExp(p(I)+p(c),"g"),S=f.indexOf(c,d);;)if(f[d]===c)for(S=d,d++;;){if(-1===(S=f.indexOf(c,S+1)))return a||D.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:y.length,index:d}),K();if(S===j-1)return K(f.substring(d,S).replace(H,c));if(c===I&&f[S+1]===I)S++;else if(c===I||0===S||f[S-1]!==I){-1!==k&&k<S+1&&(k=f.indexOf(t,S+1));var O=oe(-1===(_=-1!==_&&_<S+1?f.indexOf(i,S+1):_)?k:Math.min(k,_));if(f.substr(S+1+O,x)===t){g.push(f.substring(d,S).replace(H,c)),f[d=S+1+O+x]!==c&&(S=f.indexOf(c,d)),k=f.indexOf(t,d),_=f.indexOf(i,d);break}if(O=oe(_),f.substring(S+1+O,S+1+O+B)===i){if(g.push(f.substring(d,S).replace(H,c)),ue(S+1+O+B),k=f.indexOf(t,d),S=f.indexOf(c,d),E&&(V(),$))return Y();if(u&&y.length>=u)return Y(!0);break}D.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:y.length,index:d}),S++}}else if(s&&0===g.length&&f.substring(d,d+Q)===s){if(-1===_)return Y();_=f.indexOf(i,d=_+B),k=f.indexOf(t,d)}else if(-1!==k&&(k<_||-1===_))g.push(f.substring(d,k)),k=f.indexOf(t,d=k+x);else{if(-1===_)break;if(g.push(f.substring(d,_)),ue(_+B),E&&(V(),$))return Y();if(u&&y.length>=u)return Y(!0)}return K();function M(U){y.push(U),b=d}function oe(U){return-1!==U&&(U=f.substring(S+1,U))&&""===U.trim()?U.length:0}function K(U){return a||(void 0===U&&(U=f.substring(d)),g.push(U),d=j,M(g),E&&V()),Y()}function ue(U){d=U,M(g),g=[],_=f.indexOf(i,d)}function Y(U){if(e.header&&!m&&y.length&&!W){var J=y[0],Z=Object.create(null),_e=new Set(J);let Ee=!1;for(let de=0;de<J.length;de++){let X=J[de];if(Z[X=o(e.transformHeader)?e.transformHeader(X,de):X]){let ce,ye=Z[X];for(;ce=X+"_"+ye,ye++,_e.has(ce););_e.add(ce),J[de]=ce,Z[X]++,Ee=!0,(P=null===P?{}:P)[ce]=X}else Z[X]=1,J[de]=X;_e.add(X)}Ee&&console.warn("Duplicate headers found and renamed."),W=!0}return{data:y,errors:D,meta:{delimiter:t,linebreak:i,aborted:$,truncated:!!U,cursor:b+(m||0),renamedHeaders:P}}}function V(){r(Y()),y=[],D=[]}},this.abort=function(){$=!0},this.getCharIndex=function(){return d}}function F(e){var t=e.data,i=re[t.workerId],s=!1;if(t.error)i.userError(t.error,t.file);else if(t.results&&t.results.data){var r={abort:function(){s=!0,h(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:R,resume:R};if(o(i.userStep)){for(var u=0;u<t.results.data.length&&(i.userStep({data:t.results.data[u],errors:t.results.errors,meta:t.results.meta},r),!s);u++);delete t.results}else o(i.userChunk)&&(i.userChunk(t.results,r,t.file),delete t.results)}t.finished&&!s&&h(t.workerId,t.results)}function h(e,t){var i=re[e];o(i.userComplete)&&i.userComplete(t),i.terminate(),delete re[e]}function R(){throw new Error("Not implemented.")}function A(e){if("object"!=typeof e||null===e)return e;var t,i=Array.isArray(e)?[]:{};for(t in e)i[t]=A(e[t]);return i}function z(e,t){return function(){e.apply(t,arguments)}}function o(e){return"function"==typeof e}return l.parse=function(e,t){var s,i=(t=t||{}).dynamicTyping||!1;if(o(i)&&(t.dynamicTypingFunction=i,i={}),t.dynamicTyping=i,t.transform=!!o(t.transform)&&t.transform,!t.worker||!l.WORKERS_SUPPORTED)return i=null,"string"==typeof e?(e=65279!==(s=e).charCodeAt(0)?s:s.slice(1),i=new(t.download?se:ie)(t)):!0===e.readable&&o(e.read)&&o(e.on)?i=new ae(t):(T.File&&e instanceof File||e instanceof Object)&&(i=new he(t)),i.stream(e);(i=(()=>{var s,r,u;return!!l.WORKERS_SUPPORTED&&(r=T.URL||T.webkitURL||null,u=ee.toString(),s=l.BLOB_URL||(l.BLOB_URL=r.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",u,")();"],{type:"text/javascript"}))),(s=new T.Worker(s)).onmessage=F,s.id=ge++,re[s.id]=s)})()).userStep=t.step,i.userChunk=t.chunk,i.userComplete=t.complete,i.userError=t.error,t.step=o(t.step),t.chunk=o(t.chunk),t.complete=o(t.complete),t.error=o(t.error),delete t.worker,i.postMessage({input:e,config:t,workerId:i.id})},l.unparse=function(e,t){var i=!1,s=!0,r=",",u="\r\n",w='"',P=w+w,W=!1,c=null,I=!1,d=((()=>{if("object"==typeof t){if("string"!=typeof t.delimiter||l.BAD_DELIMITERS.filter(function(m){return-1!==t.delimiter.indexOf(m)}).length||(r=t.delimiter),"boolean"!=typeof t.quotes&&"function"!=typeof t.quotes&&!Array.isArray(t.quotes)||(i=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(W=t.skipEmptyLines),"string"==typeof t.newline&&(u=t.newline),"string"==typeof t.quoteChar&&(w=t.quoteChar),"boolean"==typeof t.header&&(s=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");c=t.columns}void 0!==t.escapeChar&&(P=t.escapeChar+w),t.escapeFormulae instanceof RegExp?I=t.escapeFormulae:"boolean"==typeof t.escapeFormulae&&t.escapeFormulae&&(I=/^[=+\-@\t\r].*$/)}})(),new RegExp(p(w),"g"));if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return $(null,e,W);if("object"==typeof e[0])return $(c||Object.keys(e[0]),e,W)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||c),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),$(e.fields||[],e.data||[],W);throw new Error("Unable to serialize unrecognized input");function $(m,a,j){var x="",B=("string"==typeof m&&(m=JSON.parse(m)),"string"==typeof a&&(a=JSON.parse(a)),Array.isArray(m)&&0<m.length),Q=!Array.isArray(a[0]);if(B&&s){for(var E=0;E<m.length;E++)0<E&&(x+=r),x+=f(m[E],E);0<a.length&&(x+=u)}for(var y=0;y<a.length;y++){var D=(B?m:a[y]).length,g=!1,b=B?0===Object.keys(a[y]).length:0===a[y].length;if(j&&!B&&(g="greedy"===j?""===a[y].join("").trim():1===a[y].length&&0===a[y][0].length),"greedy"===j&&B){for(var N=[],v=0;v<D;v++)N.push(a[y][Q?m[v]:v]);g=""===N.join("").trim()}if(!g){for(var _=0;_<D;_++)0<_&&!b&&(x+=r),x+=f(a[y][B&&Q?m[_]:_],_);y<a.length-1&&(!j||0<D&&!b)&&(x+=u)}}return x}function f(m,a){var j,x;return null==m?"":m.constructor===Date?JSON.stringify(m).slice(1,25):(x=!1,I&&"string"==typeof m&&I.test(m)&&(m="'"+m,x=!0),j=m.toString().replace(d,P),(x=x||!0===i||"function"==typeof i&&i(m,a)||Array.isArray(i)&&i[a]||((B,Q)=>{for(var E=0;E<Q.length;E++)if(-1<B.indexOf(Q[E]))return!0;return!1})(j,l.BAD_DELIMITERS)||-1<j.indexOf(r)||" "===j.charAt(0)||" "===j.charAt(j.length-1))?w+j+w:j)}},l.RECORD_SEP="\x1e",l.UNIT_SEP="\x1f",l.BYTE_ORDER_MARK="\ufeff",l.BAD_DELIMITERS=["\r","\n",'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!C&&!!T.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=L,l.ParserHandle=pe,l.NetworkStreamer=se,l.FileStreamer=he,l.StringStreamer=ie,l.ReadableStreamStreamer=ae,T.jQuery&&((ne=T.jQuery).fn.parse=function(e){var t=e.config||{},i=[];return this.each(function(u){if("INPUT"!==ne(this).prop("tagName").toUpperCase()||"file"!==ne(this).attr("type").toLowerCase()||!T.FileReader||!this.files||0===this.files.length)return!0;for(var w=0;w<this.files.length;w++)i.push({file:this.files[w],inputElem:this,instanceConfig:ne.extend({},t)})}),s(),this;function s(){if(0===i.length)o(e.complete)&&e.complete();else{var w,P,W,c=i[0];if(o(e.before)){var I=e.before(c.file,c.inputElem);if("object"==typeof I){if("abort"===I.action)return w=c.file,P=c.inputElem,W=I.reason,void(o(e.error)&&e.error({name:"AbortError"},w,P,W));if("skip"===I.action)return void r();"object"==typeof I.config&&(c.instanceConfig=ne.extend(c.instanceConfig,I.config))}else if("skip"===I)return void r()}var d=c.instanceConfig.complete;c.instanceConfig.complete=function($){o(d)&&d($,c.file,c.inputElem),r()},l.parse(c.file,c.instanceConfig)}}function r(){i.splice(0,1),s()}}),n&&(T.onmessage=function(e){e=e.data,void 0===l.WORKER_ID&&e&&(l.WORKER_ID=e.workerId),"string"==typeof e.input?T.postMessage({workerId:l.WORKER_ID,results:l.parse(e.input,e.config),finished:!0}):(T.File&&e.input instanceof File||e.input instanceof Object)&&(e=l.parse(e.input,e.config))&&T.postMessage({workerId:l.WORKER_ID,results:e,finished:!0})}),(se.prototype=Object.create(q.prototype)).constructor=se,(he.prototype=Object.create(q.prototype)).constructor=he,(ie.prototype=Object.create(ie.prototype)).constructor=ie,(ae.prototype=Object.create(q.prototype)).constructor=ae,l},void 0!==(le=G.apply(fe,[]))&&(me.exports=le)},4051:(me,fe,G)=>{"use strict";G.r(fe),G.d(fe,{InsiderTradingPageModule:()=>pe});var te=G(2881),le=G(9417),ee=G(3092),T=G(5207),ne=G(262),C=G(7376),n=G(1360);const re=p=>({color:p});function ge(p,L){if(1&p&&(n.j41(0,"span",16),n.EFF(1),n.k0s()),2&p){const F=n.XpG().$implicit;n.Y8G("ngStyle",n.eq3(2,re,F.promoterShareHolding>50?"green":"red")),n.R7$(),n.SpI(" ",F.promoterShareHolding,"% ")}}function l(p,L){1&p&&n.EFF(0,"-")}function q(p,L){if(1&p&&(n.j41(0,"tr")(1,"td"),n.EFF(2),n.k0s(),n.j41(3,"td"),n.EFF(4),n.k0s(),n.j41(5,"td"),n.EFF(6),n.k0s(),n.j41(7,"td"),n.EFF(8),n.k0s()()),2&p){const F=L.$implicit,h=n.XpG(2);n.R7$(2),n.JRh(h.convertToReadableIndianFormat(F.qty)),n.R7$(2),n.JRh(h.convertToReadableIndianFormat(F.value)),n.R7$(2),n.JRh(h.formatIndianCurrency(F.avgPrice)),n.R7$(2),n.JRh(F.broadcastDate)}}function se(p,L){if(1&p&&(n.j41(0,"tr")(1,"th",10),n.EFF(2),n.k0s(),n.j41(3,"td",11),n.EFF(4),n.k0s(),n.j41(5,"td"),n.DNE(6,ge,2,4,"span",12)(7,l,1,0,"ng-template",null,1,n.C5r),n.k0s(),n.j41(9,"td"),n.EFF(10),n.k0s(),n.j41(11,"td",13),n.EFF(12),n.k0s(),n.j41(13,"td"),n.EFF(14),n.k0s(),n.j41(15,"td"),n.EFF(16),n.k0s(),n.j41(17,"td",14)(18,"table",15)(19,"thead")(20,"tr")(21,"th"),n.EFF(22,"Qty"),n.k0s(),n.j41(23,"th"),n.EFF(24,"Value"),n.k0s(),n.j41(25,"th"),n.EFF(26,"Avg"),n.k0s(),n.j41(27,"th"),n.EFF(28,"Date"),n.k0s()()(),n.j41(29,"tbody"),n.DNE(30,q,9,4,"tr",6),n.k0s()()()()),2&p){const F=L.$implicit,h=L.index,R=n.sdS(8),A=n.XpG();n.R7$(2),n.JRh(h+1),n.R7$(2),n.JRh(F.companyName),n.R7$(2),n.Y8G("ngIf",null!=F.promoterShareHolding)("ngIfElse",R),n.R7$(4),n.JRh(A.convertToReadableIndianFormat(F.totalQty)),n.R7$(2),n.JRh(A.convertToReadableIndianFormat(F.totalValue)),n.R7$(2),n.JRh(A.formatIndianCurrency(F.avgPrice)),n.R7$(2),n.JRh(F.latestBroadcastDate),n.R7$(14),n.Y8G("ngForOf",F.transactions)}}const ie=[{path:"",component:(()=>{var p;class L{constructor(){this.isAllFileProcessed=0,this.insiderTrading=[],this.insiderTradingFiltered=[],this.SASTReg29=[],this.pledged=[],this.shareholdingPatterns=[]}ngOnInit(){}pickFile(h){const R=h.target.files;this.isAllFileProcessed=0;for(let A=0;A<R.length;A++){const z=R[A];if(z){const o=new FileReader;o.onload=e=>{this.convertCSVToJSON(o.result,z.name),this.isAllFileProcessed++,R.length===this.isAllFileProcessed&&(this.handleInsiderTrading(),this.handleSASTReg29(),this.handlePledgedData(),this.handleShareholdingPatterns(),h.target.value="")},o.readAsText(z)}}}convertCSVToJSON(h,R){ne.parse(h,{header:!0,dynamicTyping:!0,skipEmptyLines:!0,complete:A=>{R.includes("CF-Insider-Trading-equities")?this.insiderTrading=A.data:R.includes("CF-SAST- Reg29")?this.SASTReg29=A.data:R.includes("CF-SAST-Pledged-Data")?this.pledged=A.data:R.includes("CF-Shareholding-Pattern-equities")&&(this.shareholdingPatterns=A.data)}})}handleInsiderTrading(){const h=C.filter(this.insiderTrading,o=>!("Promoters"!=o["CATEGORY OF PERSON \n"]&&"Promoter Group"!=o["CATEGORY OF PERSON \n"]||"Market Purchase"!=o["MODE OF ACQUISITION \n"]&&"Market Sale"!=o["MODE OF ACQUISITION \n"])),R=C.chain(h).groupBy("COMPANY \n").filter(o=>!C.some(o,{"MODE OF ACQUISITION \n":"Market Sale"})).flatten().value(),A=C.groupBy(R,"SYMBOL \n"),z=C.map(A,(o,e)=>{const t=C.sumBy(o,P=>Number(P["VALUE OF SECURITY (ACQUIRED/DISPLOSED) \n"])||0),i=C.sumBy(o,P=>Number(P["NO. OF SECURITIES (ACQUIRED/DISPLOSED) \n"])||0),s=Number(i?t/i:0).toFixed(2),r=o[0]["COMPANY \n"],u=o.map(P=>{const W=Number(P["VALUE OF SECURITY (ACQUIRED/DISPLOSED) \n"])||0,c=Number(P["NO. OF SECURITIES (ACQUIRED/DISPLOSED) \n"])||0;return{value:W,qty:c,broadcastDate:P["BROADCASTE DATE AND TIME \n"]||null,avgPrice:Number(c?W/c:0).toFixed(2)}});return{symbol:e,companyName:r,totalValue:t,totalQty:i,avgPrice:s,latestBroadcastDate:u.length?u[0].broadcastDate:null,transactions:u}});this.insiderTradingFiltered=C.orderBy(z,["totalValue"],["desc"])}handleSASTReg29(){const h=C(this.SASTReg29).groupBy("SYMBOL").map(R=>C.some(R,A=>A["TOTAL SALE (SHARES/VOTING RIGHTS/WARRANTS/ CONVERTIBLE SECURITIES/ANY OTHER INSTRUMENT)"]>1)&&{symbol:R[0].SYMBOL}).compact().value();this.insiderTradingFiltered=C.filter(this.insiderTradingFiltered,R=>!C.some(h,{symbol:R.symbol}))}handlePledgedData(){const h=C.filter(this.pledged,R=>R["PROMOTER SHARES ENCUMBERED AS OF LAST QUARTER % OF TOTAL SHARES [X/(A+B+C)]"]>0);this.insiderTradingFiltered=C.filter(this.insiderTradingFiltered,R=>!C.some(h,{"NAME OF COMPANY":R.companyName}))}handleShareholdingPatterns(){this.insiderTradingFiltered=C.filter(this.insiderTradingFiltered,h=>{const R=C.find(this.shareholdingPatterns,{COMPANY:h.companyName});return R&&(h.promoterShareHolding=R["PROMOTER & PROMOTER GROUP (A)"]),!0})}formatIndianCurrency(h){return new Intl.NumberFormat("en-IN").format(h)}convertToReadableIndianFormat(h){return h>=1e7?(h/1e7).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})+" Cr":h>=1e5?(h/1e5).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})+" Lakh":h>=1e3?(h/1e3).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})+" K":h.toLocaleString()}}return(p=L).\u0275fac=function(h){return new(h||p)},p.\u0275cmp=n.VBU({type:p,selectors:[["app-insider-trading"]],standalone:!1,decls:29,vars:2,consts:[["fileInput",""],["noData",""],[3,"fullscreen"],[1,"p-3"],[1,"table","table-striped","table-bordered"],["scope","col"],[4,"ngFor","ngForOf"],[1,"ion-no-padding"],["type","file","accept",".csv","multiple","","hidden","",3,"change"],["expand","block","color","secondary",1,"custom-text-color",2,"margin","5px",3,"click"],["scope","row"],[2,"color","green","font-weight","700"],[3,"ngStyle",4,"ngIf","ngIfElse"],[2,"color","blue","font-weight","700"],[1,"p-0"],[1,"table","table-striped","table-bordered","table-sm","mb-0"],[3,"ngStyle"]],template:function(h,R){if(1&h){const A=n.RV6();n.j41(0,"ion-content",2)(1,"div",3)(2,"table",4)(3,"thead")(4,"tr")(5,"th",5),n.EFF(6,"#"),n.k0s(),n.j41(7,"th",5),n.EFF(8,"Company"),n.k0s(),n.j41(9,"th",5),n.EFF(10,"Holding"),n.k0s(),n.j41(11,"th",5),n.EFF(12,"Total Qty"),n.k0s(),n.j41(13,"th",5),n.EFF(14,"Total Value"),n.k0s(),n.j41(15,"th",5),n.EFF(16,"Avg. Price"),n.k0s(),n.j41(17,"th",5),n.EFF(18,"Latest Date"),n.k0s(),n.j41(19,"th",5),n.EFF(20,"Transactions"),n.k0s()()(),n.j41(21,"tbody"),n.DNE(22,se,31,9,"tr",6),n.k0s()()()(),n.j41(23,"ion-footer")(24,"ion-toolbar",7)(25,"input",8,0),n.bIt("change",function(o){return n.eBV(A),n.Njj(R.pickFile(o))}),n.k0s(),n.j41(27,"ion-button",9),n.bIt("click",function(){n.eBV(A);const o=n.sdS(26);return n.Njj(o.click())}),n.EFF(28,"Select CSV Files"),n.k0s()()()}2&h&&(n.Y8G("fullscreen",!0),n.R7$(22),n.Y8G("ngForOf",R.insiderTradingFiltered))},dependencies:[te.Sq,te.bT,te.B3,ee.Jm,ee.W9,ee.M0,ee.ai],encapsulation:2}),L})()}];let ae=(()=>{var p;class L{}return(p=L).\u0275fac=function(h){return new(h||p)},p.\u0275mod=n.$C({type:p}),p.\u0275inj=n.G2t({imports:[T.iI.forChild(ie),T.iI]}),L})(),pe=(()=>{var p;class L{}return(p=L).\u0275fac=function(h){return new(h||p)},p.\u0275mod=n.$C({type:p}),p.\u0275inj=n.G2t({imports:[te.MD,le.YN,ee.bv,ae]}),L})()}}]);